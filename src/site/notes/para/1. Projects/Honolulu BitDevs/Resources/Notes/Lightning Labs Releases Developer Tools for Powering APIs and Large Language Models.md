---
{"dg-publish":true,"dg-path":"BitDevs/Resources/Notes/Lightning Labs Releases Developer Tools for Powering APIs and Large Language Models.md","permalink":"/bit-devs/resources/notes/lightning-labs-releases-developer-tools-for-powering-ap-is-and-large-language-models/","title":"Lightning Labs Releases Developer Tools for Powering APIs and Large Language Models","tags":["bitcoin","lightning","l402","ai","llm","agent","micropayment"],"noteIcon":"3","created":"2023-07-29T23:14:55.709-10:00","updated":"2023-08-10T21:50:25.638-10:00"}
---



> [!QUOTE] [Lightning Labs Releases Developer Tools for Powering APIs and Large Language Models](https://www.nobsbitcoin.com/lightning-labs-ai-tools/)
> Today, weâ€™re excited to announce the release of a new set of developer tools to enable the Lightning and AI developer communities to build global, inclusive, and out-of-the-box cost effective LLM (Large Language Model) tooling which seamlessly incorporates Lightning and bitcoin. These tools are built on theÂ [L402 protocol](https://docs.lightning.engineering/the-lightning-network/l402), a Lightning native authentication mechanism, andÂ [Langchain](https://github.com/hwchase17/langchain), a popular library to simplify working with AI agents by adding external data to allow for more advanced functionality:
> - [LangChainBitcoin](https://github.com/lightninglabs/LangChainBitcoin): a suite of tools that enables Langchain agents to directly interact with Bitcoin and also the Lightning Network, including two main features:
> 	- **LLM Agent BitcoinTools**: a series of tools that leverages the newly released OpenAI GPT function calls to enable developers to create agents that can hold a Bitcoin balance (on-chain and Lightning), send/receive Bitcoin on Lightning, and also directly drive with a LND node.
> 	- **L402 HTTP API Traversal**: a Python wrapper for a LangChain LLM chain (APIChain) that enables agents to transparently access L402 payment-metered APIs.
> - [Aperture](https://github.com/lightninglabs/aperture/tree/master): theÂ [latest release of](https://github.com/lightninglabs/aperture/releases/tag/v0.2-beta)Â Aperture, a drop-in reverse proxy server implementation of the L402 protocol which can transform any API into a pay per use resource gated via L402 functionality and sats on the Lightning Network.
> 	- **Now with Lightning Node Connect Support**: Aperture supports any Lightning Node runningÂ [litd](https://github.com/lightninglabs/lightning-terminal#readme), a binary that bundles Lightning Labsâ€™ services alongsideÂ [LND](https://github.com/lightningnetwork/lnd#readme), (e.g Voltage, Umbrel, Start9, Raspiblitz, BTCPayServer) through theÂ [Lightning Node Connect](https://docs.lightning.engineering/lightning-network-tools/lightning-terminal/lightning-node-connect)Â protocol, an end-to-end encrypted mechanism for connecting a Lightning node to a web browser.
> 	- **Rich Dynamic API Endpoint Pricing**: Aperture now supports the ability to optionally provide full HTTP request context to the proxied backend to enable dynamic per-call pricing. In contrast to the existing static pricing configuration, dynamic pricing allows a backend to implement custom endpoint pricing logic.
> - [L402 bLIP](https://github.com/lightning/blips/pull/26): a Bitcoin Lightning Improvement Proposal (bLIP) specification for the L402 protocol standard to openly share the primitives for building these components with the community.
> 	- **L402 is a protocol standard for payment-metered APIs explicitly designed to fit neatly into the existing HTTP 402 Payment Required status response code**, which was optimistically included by the creators of the Web to enable native payments. A combination of Bitcoin, the Internet's native currency and the Lightning Network enables globally accessible rapid, scalable micropayments for paid APIs via L402.
> 

# L402 âš¡ + AI ğŸ¤–

The Lightning Network (via [the L402 protocol](https://docs.lightning.engineering/the-lightning-network/l402)) can help overcome a number of challenges currently facing LLM development:
- **Gating access to highly trained LLMs can be much more granular and cost effective with per-use Lightning paywalls.** Credit cards force merchants to push higher costs onto consumers to overcome chargebacks and fraud fees. Bitcoin is a digital bearer asset and Lightning payments settle instantly. That means the cost of each LLM query can be offloaded directly to the consumer in realtime, and prices can be adjusted dynamically to respond to ongoing LLM maintenance/scaling costs.
- **The L402 protocol can be used to create payment-metered APIs that are accessible to billions of people worldwide who do not have credit cards.** The L402 protocol is a payment-metered API standard that uses the HTTP 402 Payment Required status response code to enable global Lightning micropayments for paid APIs. This means that any developer can create APIs that are only accessible to users who have already paid for them - without having to rely on credit cards (so no chargeback/fraud risk or complicated fiat payment infrastructure). L402 makes any paid online resource immediately accessible to a global audience of bitcoin users - *whether that be humans or AI agents*. Typical fiat payment infrastructure isn't accessible to autonomous agents, so a digital bearer asset like Bitcoin is required instead.
- **AI agents can manage bitcoin wallets and make micropayments to collect resources and complete goals.**Â AI agents are software programs that can learn and perform tasks autonomously. After equipping these agents with bitcoin wallets, they can make micropayments to external L402-enabled APIs to query information or initiate subtasks. This will allow AI agents to operate more effectively and independently across the web.

The L402 protocol is a promising tool for enabling machine-to-machine web interactions, which is why it complements LLM development so well. More generally, L402 helps decentralize the market for all online services by enabling anyone to set up a content/data paywall with instantly global reach.

# Aperture

> [!QUOTE] [Lightning Labs Releases Developer Tools for Powering APIs and Large Language Models](https://www.nobsbitcoin.com/lightning-labs-ai-tools/)
> [The L402 protocol](https://docs.lightning.engineering/the-lightning-network/l402)Â is a protocol standard for the authentication of paid APIs (using the internetâ€™s preferred currency: sats!). The L402 protocol finally presents a use for the internetâ€™s forgotten HTTP error code: 402 Payment Required. Youâ€™ve probably seen error codes such as 200 OK, 404 NOT FOUND, and 500 INTERNAL SERVER ERROR. Alongside these error codes, the early authors of the HTTP protocol also inserted provision to enable internet-native payments. However, at the time, Bitcoin hadnâ€™t yet been created, so a decentralized currency for the internet didnâ€™t yet exist. The **L402 protocol bridges the gap, by creating aÂ [protocol standard](https://github.com/lightning/blips/pull/26)Â that enables programmatic micropayments for API, login, and digital resource access.**
> 
> Aperture is the first L402-aware reverse proxy that enables seamless L402 integration for any existing API. Aperture serves as a bridge between an incoming request and a payment metered backend. Aperture handles the L402 protocol negotiation, pricing, authentication, and API key creation for the backend. **As a result, any existing API backend can easily be upgraded to add L402 awareness.**
> 
> The latest version of Aperture now enables dynamic pricing. This dynamic pricing feature means that **an Aperture-aware API backend can dynamically inform the proxy what the new pricing should be for a given endpoint.** In the context of LLMs, this means that a backend could modify the price as a function of the type of model, query length, context window, and other parameters directly related to the operational cost of a model. Aperture also now supports SQLite and Postgres database backends, which should be a very familiar construct for developers.
> 
> The combination of the L402 protocol and open source models enables a number of impactful innovations. As an example, a user can sell a prompt by gating access to an API capable of responding to queries against the prompt itself. Potential buyers can then ask their own local agent to evaluate the response given a set of criteria. If the agent approves of the response, then further responses can be purchased. **This interaction effectively creates a new tit-for-tat evaluation model to ensure that purchased data and information meets quality guidelines.**

# Conclusion

> [!QUOTE] [Lightning Labs Releases Developer Tools for Powering APIs and Large Language Models](https://www.nobsbitcoin.com/lightning-labs-ai-tools/)
> Weâ€™re extremely excited about the new wave of innovation brought about with the latest wave of LLM models. With theÂ [L402 protocol](https://docs.lightning.engineering/the-lightning-network/l402)Â andÂ [LangChainBitcoin](https://github.com/lightninglabs/LangChainBitcoin), weâ€™re able to ensure the open models can be accessed using an open payment system, connected to the worldâ€™s set of open APIs. In the end, open source will win, and weâ€™re working to provide the tooling to enable greater accessibility to AI for humans and agents alike.
> 
> To get started using these developer tools to build your own AI and Lightning-powered products, check out theÂ [L402 bLIP](https://github.com/lightning/blips/pull/26), downloadÂ [Aperture](https://github.com/lightninglabs/aperture), and read theÂ [Aperture developer documentation](https://docs.lightning.engineering/lightning-network-tools/aperture). If you need access to a Lightning node with LNC integration, you can spin one up in a variety of ways fromÂ [running your own custom setup](https://docs.lightning.engineering/lightning-network-tools/lightning-terminal/get-lit)Â to using a node OS likeÂ [Umbrel](https://umbrel.com/),Â [Start9](https://start9.com/), orÂ [Raspiblitz](https://raspiblitz.org/)Â to using a hosting provider likeÂ [Voltage](https://voltage.cloud/). As long as the node also runsÂ [litd](https://github.com/lightninglabs/lightning-terminal), then you have access toÂ [Lightning Node Connect](https://docs.lightning.engineering/lightning-network-tools/lightning-terminal/lightning-node-connect)Â and can connect it directly to your Aperture instance.